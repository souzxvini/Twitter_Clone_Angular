<div *ngIf="!loaded" class="whoToFollowCard" style="height: 200px" fxLayoutAlign="center center">
  <mat-spinner [diameter]="30"></mat-spinner>
</div>

<div *ngIf="loaded && whoToFollowAccounts.length > 0" class="whoToFollowCard">
  <div class="whoToFollowCardTitle">
    <span>Who to follow</span>
  </div>

  <div fxLayout="column">
    <div class="whoToFollowAccountButton cursorPointer" *ngFor="let account of whoToFollowAccounts"
      (click)="redirectToProfile(account)">
      <div fxLayout="row" fxLayoutAlign="center center">
        <div style="width: 40px;">
          <div class="profilePicture" style="width: 40px; height: 40px;"
            [style]="setProfilePhoto(account.profilePhotoUrl)">
          </div>
        </div>

        <div fxLayout="column" fxLayoutGap="4"
          [fxFlex]="account.isFollowedByMe ? 'calc(100% - 140px)' : 'calc(100% - 120px)'" style="padding: 0 10px;">
          <div fxLayout="row" fxLayoutAlign="start center">
            <span [style]="account.isVerified ? 'max-width: calc(100% - 18px)' : 'max-width: 100%'"
              class="userFirstName">
              {{ account.firstName }}
            </span>
            <div style="width: 18px;" *ngIf="account.isVerified">
              <img style="width: 18px; height: 18px;" src="../../../../assets/img/twitter-verified.png">
            </div>
          </div>
          <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="3">
            <span [style]="account.isFollowingMe ? 'max-width: calc(100% - 70px)' : 'max-width: 100%'"
              class="userUsername">
              @{{ account.username }}
            </span>
            <span *ngIf="account.isFollowingMe" class="followsYou" fxLayoutAlign="center center">Segue você</span>
          </div>

        </div>

        <div [style]="account.isFollowedByMe ? 'width: 100px;' : 'width: 80px;'">
          <!--Botão 'SEGUIR'-->
          <button *ngIf="!account.isFollowedByMe" class="whiteButton cursorPointer _32pxButton"
            (click)="$event.stopPropagation(); followUser(account.username)">
            <span>Seguir</span>
          </button>
          <!--Botão 'SEGUINDO'-->
          <app-following-button-32px *ngIf="account.isFollowedByMe"
            (click)="$event.stopPropagation(); openUnfollowConfirmationModal(account)">
          </app-following-button-32px>
        </div>
      </div>
    </div>
  </div>


  <div class="whoToFollowCardFooter">
    <span>Show more</span>
  </div>
</div>

<div *ngIf="loaded && whoToFollowAccounts.length == 0" class="noAccountsCard" fxLayout="column"
  fxLayoutAlign="space-between start" >
  <div class="whoToFollowCardTitle" fxFlex="20">
    <span>Who to follow</span>
  </div>
  <div fxFlex fxLayout="column" fxLayoutAlign="center center" style="padding: 16px" fxLayoutGap="30">
    <mat-icon>error_outline</mat-icon>
    <span class="message">Não existem mais sugestões de contas para você seguir! </span>
  </div>
</div>
